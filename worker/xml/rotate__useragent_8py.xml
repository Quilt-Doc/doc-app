<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="rotate__useragent_8py" kind="file">
    <compoundname>rotate_useragent.py</compoundname>
    <innerclass refid="classrotate__useragent_1_1_rotate_user_agent_middleware" prot="public">rotate_useragent::RotateUserAgentMiddleware</innerclass>
    <innernamespace refid="namespacerotate__useragent">rotate_useragent</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">#!/usr/bin/python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">#-*-coding:utf-8-*-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>random</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>scrapy.contrib.downloadermiddleware.useragent<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>UserAgentMiddleware</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7" refid="classrotate__useragent_1_1_rotate_user_agent_middleware" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classrotate__useragent_1_1_rotate_user_agent_middleware" kindref="compound">RotateUserAgentMiddleware</ref>(UserAgentMiddleware):</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__init__(self,<sp/>user_agent=&apos;&apos;):</highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classrotate__useragent_1_1_rotate_user_agent_middleware_1ae8337ccb2687d2340ad2c264c524118d" kindref="member">user_agent</ref><sp/>=<sp/>user_agent</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">process_request(self,<sp/>request,<sp/>spider):</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ua<sp/>=<sp/>random.choice(self.user_agent_list)</highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ua:</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>request.headers.setdefault(</highlight><highlight class="stringliteral">&apos;User-Agent&apos;</highlight><highlight class="normal">,<sp/>ua)</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#the<sp/>default<sp/>user_agent_list<sp/>composes<sp/>chrome,I<sp/>E,firefox,Mozilla,opera,netscape</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#for<sp/>more<sp/>user<sp/>agent<sp/>strings,you<sp/>can<sp/>find<sp/>it<sp/>in<sp/>http://www.useragentstring.com/pages/useragentstring.php</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/>user_agent_list<sp/>=<sp/>[\</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.1;<sp/>WOW64)<sp/>AppleWebKit/537.1<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/22.0.1207.1<sp/>Safari/537.1&quot;</highlight><highlight class="normal">\</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(X11;<sp/>CrOS<sp/>i686<sp/>2268.111.0)<sp/>AppleWebKit/536.11<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/20.0.1132.57<sp/>Safari/536.11&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.1;<sp/>WOW64)<sp/>AppleWebKit/536.6<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/20.0.1092.0<sp/>Safari/536.6&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.2)<sp/>AppleWebKit/536.6<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/20.0.1090.0<sp/>Safari/536.6&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.2;<sp/>WOW64)<sp/>AppleWebKit/537.1<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.77.34.5<sp/>Safari/537.1&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(X11;<sp/>Linux<sp/>x86_64)<sp/>AppleWebKit/536.5<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1084.9<sp/>Safari/536.5&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.0)<sp/>AppleWebKit/536.5<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1084.36<sp/>Safari/536.5&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.1;<sp/>WOW64)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1063.0<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>5.1)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1063.0<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Macintosh;<sp/>Intel<sp/>Mac<sp/>OS<sp/>X<sp/>10_8_0)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1063.0<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.2)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1062.0<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.1;<sp/>WOW64)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1062.0<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.2)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1061.1<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.1;<sp/>WOW64)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1061.1<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.1)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1061.1<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.2)<sp/>AppleWebKit/536.3<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1061.0<sp/>Safari/536.3&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(X11;<sp/>Linux<sp/>x86_64)<sp/>AppleWebKit/535.24<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1055.1<sp/>Safari/535.24&quot;</highlight><highlight class="normal">,\</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mozilla/5.0<sp/>(Windows<sp/>NT<sp/>6.2;<sp/>WOW64)<sp/>AppleWebKit/535.24<sp/>(KHTML,<sp/>like<sp/>Gecko)<sp/>Chrome/19.0.1055.1<sp/>Safari/535.24&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
    </programlisting>
    <location file="/home/ec2-user/doc-app/worker/git_repos/1593845595373/college_data/comm/rotate_useragent.py"/>
  </compounddef>
</doxygen>
